<!doctype html>
<html lang="en" data-bs-theme="auto">
<head><script src="../assets/js/color-modes.js"></script>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Hugo 0.122.0">
    <title>Monte sua dieta</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="canonical" href="https://getbootstrap.com/docs/5.3/examples/headers/">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3">
    <link href="headers.css" rel="stylesheet">
</head>
<body>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
<header class="p-3 text-bg-dark">
	<div class="container">
		<div class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start">
		<ul class="nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0">
			<li><a href="#" class="nav-link px-2 text-secondary">Home</a></li>
			<li><a href="#" class="nav-link px-2 text-white">Alimentos</a></li>
		</ul>
		<div class="text-end">
			<button type="button" class="btn btn-outline-light me-2" data-bs-toggle="modal" data-bs-target="#modalEntrar">Entrar</button>
			<button type="button" class="btn btn-warning" data-bs-toggle="modal" data-bs-target="#modalCadastro">Cadastrar</button>
		</div>
		</div>
	</div>
</header>
<main class="text-bg-secondary p-3">

</main>
<div class="modal fade p-4 py-md-5" tabindex="-1" role="dialog" id="modalCadastro">
	<div class="modal-dialog" role="document">
	  <div class="modal-content rounded-4 shadow">
		<div class="modal-header p-5 pb-4 border-bottom-0">
	  <h1 class="fw-bold mb-0 fs-2">Cadastro</h1>
	  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
		</div>

		<div class="modal-body p-5 pt-0">
	  <form class="">
		<div class="form-floating mb-3">
		  <input type="login" class="form-control rounded-3" id="floatingLogin" placeholder="Login">
		  <label for="floatingInput">Login</label>
		</div>
		<div class="form-floating mb-3">
		  <input type="senha" class="form-control rounded-3" id="floatingSenha" placeholder="Senha">
		  <label for="floatingPassword">Senha</label>
		</div>
		<div class="form-floating mb-3">
			<input type="peso" class="form-control rounded-3" id="floatingPeso" placeholder="Peso">
			<label for="floatingPassword">Peso</label>
		  </div>
		  <button class="w-100 mb-2 btn btn-lg rounded-3 btn-primary" id="confirmCadastro" type="button">Confirmar</button>
		  <script>
			document.getElementById("confirmCadastro").addEventListener("click", async function(event) {
				event.preventDefault();
				const login = document.getElementById("floatingLogin").value.trim();
    			const senha = document.getElementById("floatingSenha").value.trim(); 
    			const peso = parseFloat(document.getElementById("floatingPeso").value.trim());
				const dados = {
					login: login,
					senha: senha,
					peso: peso
				};
				try {
					const response = await fetch('http://localhost:3000/usuarios/adicionar', {
						method: 'POST',
						headers: {
							'Content-Type': 'application/json'
						},
						body: JSON.stringify(dados)
					});
			
					if (response.ok) {
						alert("Cadastro realizado com sucesso!");
						const modal = bootstrap.Modal.getInstance(document.getElementById('modalCadastro'));
						modal.hide();
					} else {
						const erro = await response.json();
						alert(`Erro ao cadastrar: ${erro.message}`);
					}
				} catch (error) {
					console.error("Erro ao fazer requisição:", error);
					alert("Ocorreu um erro ao tentar cadastrar. Tente novamente.");
				}
			});
			</script>
	  </form>
		</div>
	  </div>
	</div>
</div>
<div class="modal fade p-4 py-md-5" tabindex="-1" role="dialog" id="modalEntrar">
	<div class="modal-dialog" role="document">
	  <div class="modal-content rounded-4 shadow">
		<div class="modal-header p-5 pb-4 border-bottom-0">
	  <h1 class="fw-bold mb-0 fs-2">Entrar</h1>
	  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
		</div>

		<div class="modal-body p-5 pt-0">
	  <form class="">
		<div class="form-floating mb-3">
		  <input type="login" class="form-control rounded-3" id="floatingLogin" placeholder="Login">
		  <label for="floatingInput">Login</label>
		</div>
		<div class="form-floating mb-3">
		  <input type="senha" class="form-control rounded-3" id="floatingSenha" placeholder="Senha">
		  <label for="floatingPassword">Senha</label>
		</div>
		<button class="w-100 mb-2 btn btn-lg rounded-3 btn-primary" type="submit">Confirmar</button>
	  </form>
		</div>
	  </div>
	</div>
</div>
<footer class="text-bg-dark">
	<p class="text-center px-2 text-white pb-3 mb-3">&copy; 2024 Company, Inc</p>
</footer>
<script src="../assets/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
